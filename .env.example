# =============================================================================
# PLPG Environment Configuration
# =============================================================================
#
# This file documents all environment variables required for the PLPG
# application. Copy this file to `.env` and update values as needed.
#
# Usage:
#   cp .env.example .env
#   # Edit .env with your values
#
# IMPORTANT: Never commit .env files with real credentials to version control.
#
# =============================================================================

# =============================================================================
# Application Environment
# =============================================================================

# Node environment: development | production | test
NODE_ENV=development

# Application port configurations
# Frontend runs on port 5173 (Vite default)
# Backend API runs on port 3001
PORT=3001

# =============================================================================
# Database Configuration (PostgreSQL)
# =============================================================================

# PostgreSQL connection string
# Format: postgresql://USER:PASSWORD@HOST:PORT/DATABASE
# For local Podman development, use the values from podman-compose.yml
DATABASE_URL=postgresql://plpg:plpg_dev_password@localhost:5432/plpg_dev

# Individual database connection parameters (alternative to DATABASE_URL)
# DB_HOST=localhost
# DB_PORT=5432
# DB_NAME=plpg_dev
# DB_USER=plpg
# DB_PASSWORD=plpg_dev_password

# =============================================================================
# Redis Configuration
# =============================================================================

# Redis connection string
# Format: redis://HOST:PORT
# For local Podman development
REDIS_URL=redis://localhost:6379

# Individual Redis connection parameters (alternative to REDIS_URL)
# REDIS_HOST=localhost
# REDIS_PORT=6379
# REDIS_PASSWORD=

# =============================================================================
# Authentication & Security
# =============================================================================

# JWT Secret Key
# IMPORTANT: Generate a strong random string for production
# Command: openssl rand -base64 64
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production

# JWT Access Token Expiry (e.g., 15m, 1h, 7d)
JWT_ACCESS_TOKEN_EXPIRY=15m

# JWT Refresh Token Expiry
JWT_REFRESH_TOKEN_EXPIRY=7d

# Password hashing rounds (bcrypt)
# Higher is more secure but slower. 10-12 for production.
BCRYPT_ROUNDS=10

# =============================================================================
# Email Configuration (SMTP)
# =============================================================================

# SMTP Server Settings
# For local development with MailHog:
SMTP_HOST=localhost
SMTP_PORT=1025
SMTP_SECURE=false

# SMTP Authentication (not required for MailHog)
SMTP_USER=
SMTP_PASSWORD=

# Email sender address
SMTP_FROM_NAME=PLPG
SMTP_FROM_EMAIL=noreply@plpg.local

# =============================================================================
# Frontend Configuration
# =============================================================================

# Frontend application URL (for CORS and email links)
FRONTEND_URL=http://localhost:5173

# API base URL (for frontend to connect to backend)
VITE_API_URL=http://localhost:3001/api

# =============================================================================
# Backend API Configuration
# =============================================================================

# Backend API URL
API_URL=http://localhost:3001

# CORS allowed origins (comma-separated)
CORS_ORIGINS=http://localhost:5173,http://127.0.0.1:5173

# API rate limiting (requests per window)
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# =============================================================================
# Logging Configuration
# =============================================================================

# Log level: trace | debug | info | warn | error | fatal
LOG_LEVEL=debug

# Pretty print logs in development (disable in production)
LOG_PRETTY=true

# =============================================================================
# AI/ML Configuration (Future)
# =============================================================================

# OpenAI API Key (for roadmap generation)
# OPENAI_API_KEY=sk-...

# AI Model to use
# AI_MODEL=gpt-4

# =============================================================================
# Feature Flags (Future)
# =============================================================================

# Enable/disable features
# FEATURE_AI_RECOMMENDATIONS=true
# FEATURE_PROGRESS_TRACKING=true
# FEATURE_SOCIAL_SHARING=false

# =============================================================================
# External Services (Future)
# =============================================================================

# Stripe API Keys (for billing)
# STRIPE_SECRET_KEY=sk_test_...
# STRIPE_PUBLISHABLE_KEY=pk_test_...
# STRIPE_WEBHOOK_SECRET=whsec_...

# Analytics
# ANALYTICS_KEY=

# Error tracking (Sentry)
# SENTRY_DSN=
